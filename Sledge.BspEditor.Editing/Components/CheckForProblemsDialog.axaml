<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d" d:DesignWidth="497" d:DesignHeight="437"
        Width="497"
        Height="437"
        CanResize="False"
        x:Class="Sledge.BspEditor.Editing.CheckForProblemsDialog"
        Icon="avares://Sledge.BspEditor.Editing/Resources/Menu_CheckForProblems.png"
        Title="Problems in Map">
  <Window.Styles>
    <Style Selector="HeaderedContentControl">
      <Setter Property="Template">
        <ControlTemplate>
          <Grid>
            <Grid.RowDefinitions>
              <RowDefinition Height="Auto"/>
              <RowDefinition Height="*"/>
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
              <ColumnDefinition Width="Auto"/>
              <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <!-- Header -->
            <Border
                ZIndex="1"
                Background="{DynamicResource SystemControlBackgroundAltHighBrush}"
                Padding="5,0,5,0"
                Margin="5,0,0,0">
              <TextBlock
                  Text="{TemplateBinding Header}"
                  FontWeight="Bold"/>
            </Border>

            <!-- Content Area -->
            <Border
                Grid.RowSpan="2"
                Padding="0,5,0,0"
                Grid.ColumnSpan="2"
                CornerRadius="4"
                Margin="0,10,0,0"
                BorderBrush="{DynamicResource SystemControlForegroundBaseMediumBrush}"
                BorderThickness="1">
              <ContentPresenter
                  Name="PART_ContentPresenter"
                  Padding="8"
                  Content="{TemplateBinding Content}"/>
            </Border>
          </Grid>
        </ControlTemplate>
      </Setter>
    </Style>
    <Style Selector="HyperlinkButton TextBlock">
      <Setter Property="Foreground" Value="Blue"/>
      <Setter Property="TextDecorations" Value="Underline"/>
    </Style>
    <Style Selector="ListBox">
      
    </Style>
  </Window.Styles>
  <StackPanel Orientation="Vertical" Margin="10">
    <ListBox Height="169" Width="452" BorderBrush="Black" BorderThickness="1" Name="ProblemsList" SelectionChanged="UpdateSelectedProblem"/>
    <HeaderedContentControl Header="Details" Name="grpDetails">
      <StackPanel Orientation="Horizontal">
        <StackPanel Orientation="Vertical">
          <TextBox Text="Problem details" Height="108" Width="255" IsReadOnly="True" Name="DescriptionTextBox">
          </TextBox>
          <HyperlinkButton Name="lnkExtraDetails">
            <TextBlock Text="Click here for additional information"/>
          </HyperlinkButton>
        </StackPanel>
        <StackPanel Orientation="Vertical" Margin="10,0">
          <Button Content="Go to error" Click="GoToError" Name="btnGoToError"/>
          <Button Content="Fix error" Click="FixError" Name="btnFix"/>
          <Button Content="Fix all of type" Click="FixAllOfType" Name="btnFixAllOfType"/>
          <Button Content="Fix all problems" Click="FixAll" Name="btnFixAll" />
        </StackPanel>
      </StackPanel>
    </HeaderedContentControl>
    <StackPanel Orientation="Horizontal">
      <CheckBox Content="Visible objects only" IsChecked="True" Name="chkVisibleOnly" Checked="VisibleOnlyCheckboxChanged"/>
      <CheckBox Content="Selected objects only" Name="chkSelectedOnly" Checked="VisibleOnlyCheckboxChanged"/>
      <Button Content="Close" HorizontalAlignment="Right" Click="Close" Width="75" Name="btnClose"/>
      <StackPanel.Styles>
        <Style Selector="CheckBox, Button">
          <Setter Property="Margin" Value="10,5,0,0"/>
        </Style>
      </StackPanel.Styles>
    </StackPanel>
  </StackPanel>
</Window>
